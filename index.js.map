{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nimport axios from 'axios';\n\nexport function getAllImages(massege) {\n  const baseURL = 'https://pixabay.com/api/';\n\n  const params = {\n    key: '33135653-4734ab6feb6e20c316e4b7aea',\n    q: `${massege}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  };\n\n  return axios.get(baseURL, { params }).then(res => res.data.hits);\n}\n","\n\nexport function imageTemplate(item) {\n    const {\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    } = item;\n  \n    return `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\" onclick=\"return false;\">\n              <img\n                class=\"gallery-image\"\n                src=\"${webformatURL}\"\n                alt=\"${tags}\"\n              />\n            </a>\n            <div class=\"gallery-wrapper\">\n              <ul class=\"gallery-group\">\n                <li class=\"gallery-list\">\n                  <h2 class=\"gallery-subtitle\">Likes</h2>\n                  <p class=\"gallery-txt\">${likes}</p>\n                </li>\n                <li class=\"gallery-list\">\n                  <h2 class=\"gallery-subtitle\">Views</h2>\n                  <p class=\"gallery-txt\">${views}</p>\n                </li>\n                <li class=\"gallery-list\">\n                  <h2 class=\"gallery-subtitle\">Comments</h2>\n                  <p class=\"gallery-txt\">${comments}</p>\n                </li>\n                <li class=\"gallery-list\">\n                  <h2 class=\"gallery-subtitle\">Downloads</h2>\n                  <p class=\"gallery-txt\">${downloads}</p>\n                </li>\n              </ul>\n            </div>\n          </li>`;\n  }\n  \n  export function imagesTemplate(arr) {\n    return arr.map(imageTemplate).join('');\n  }","import { getAllImages } from './js/pixabay-api';\nimport { imageTemplate, imagesTemplate } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\nlet lightbox;\n\nrefs.form.addEventListener('submit', searchImages);\n\nfunction searchImages(e) {\n  e.preventDefault();\n  showLoader();\n  const massege = e.target.elements.search.value.trim();\n  refs.gallery.innerHTML = '';\n  getAllImages(massege)\n    .then(arr => {\n      if (arr.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#FFFFFF',\n          backgroundColor: '#B51B1B',\n          position: 'topRight',\n          messageSize: '16px',\n          messageLineHeight: '24px',\n          maxWidth: '432px',\n        });\n      } else {\n        const markup = imagesTemplate(arr);\n        refs.gallery.innerHTML = markup;\n\n        if (lightbox) {\n          lightbox.refresh();\n        } else {\n          lightbox = new SimpleLightbox('.gallery a');\n        }\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        messageColor: '#FFFFFF',\n        backgroundColor: '#B51B1B',\n        position: 'topRight',\n        messageSize: '16px',\n        messageLineHeight: '24px',\n        maxWidth: '432px',\n      });\n      console.log(error);\n    })\n    .finally(hideLoader);\n\n  e.target.reset();\n}\n\nfunction showLoader() {\n  refs.loader.classList.remove('hidden');\n  refs.gallery.classList.add('hidden');\n}\n\nfunction hideLoader() {\n  refs.loader.classList.add('hidden');\n  refs.gallery.classList.remove('hidden');\n}\n"],"names":["getAllImages","massege","baseURL","params","axios","res","imageTemplate","item","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","arr","refs","lightbox","searchImages","e","showLoader","iziToast","markup","SimpleLightbox","error","hideLoader"],"mappings":"owBAGO,SAASA,EAAaC,EAAS,CACpC,MAAMC,EAAU,2BAEVC,EAAS,CACb,IAAK,qCACL,EAAG,GAAGF,CAAO,GACb,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,EAEE,OAAOG,EAAM,IAAIF,EAAS,CAAE,OAAAC,CAAQ,CAAA,EAAE,KAAKE,GAAOA,EAAI,KAAK,IAAI,CACjE,CCbO,SAASC,EAAcC,EAAM,CAChC,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EAEJ,MAAO;AAAA,4CACiCE,CAAa;AAAA;AAAA;AAAA,uBAGlCD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAOgBC,CAAK;AAAA;AAAA;AAAA;AAAA,2CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,2CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,2CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,gBAKjD,CAEM,SAASC,EAAeC,EAAK,CAClC,OAAOA,EAAI,IAAIV,CAAa,EAAE,KAAK,EAAE,CACzC,CCvCA,MAAMW,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EACA,IAAIC,EAEJD,EAAK,KAAK,iBAAiB,SAAUE,CAAY,EAEjD,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChBC,IACA,MAAMpB,EAAUmB,EAAE,OAAO,SAAS,OAAO,MAAM,OAC/CH,EAAK,QAAQ,UAAY,GACzBjB,EAAaC,CAAO,EACjB,KAAKe,GAAO,CACX,GAAIA,EAAI,SAAW,EACjBM,EAAS,MAAM,CACb,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,YAAa,OACb,kBAAmB,OACnB,SAAU,OACpB,CAAS,MACI,CACL,MAAMC,EAASR,EAAeC,CAAG,EACjCC,EAAK,QAAQ,UAAYM,EAErBL,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIM,EAAe,YAAY,CAE7C,CACP,CAAK,EACA,MAAMC,GAAS,CACdH,EAAS,MAAM,CACb,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,YAAa,OACb,kBAAmB,OACnB,SAAU,OAClB,CAAO,EACD,QAAQ,IAAIG,CAAK,CACvB,CAAK,EACA,QAAQC,CAAU,EAErBN,EAAE,OAAO,OACX,CAEA,SAASC,GAAa,CACpBJ,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrCA,EAAK,QAAQ,UAAU,IAAI,QAAQ,CACrC,CAEA,SAASS,GAAa,CACpBT,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCA,EAAK,QAAQ,UAAU,OAAO,QAAQ,CACxC"}